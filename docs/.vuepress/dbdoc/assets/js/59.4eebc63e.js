(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{413:function(a,s,t){"use strict";t.r(s);var r=t(42),e=Object(r.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"cassandra"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cassandra"}},[a._v("#")]),a._v(" "),t("strong",[a._v("Cassandra")])]),a._v(" "),t("h2",{attrs:{id:"概述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[a._v("#")]),a._v(" "),t("strong",[a._v("概述")])]),a._v(" "),t("p",[a._v("Cassandra是一个开源的列存储数据库，具有分布式，去中心化，灵活伸缩,高可用，错误容忍，可调的一致性。它的分布式结构基于Amazon的Dynamo,数据模型基于Google的bigtable.由facebook创建,现已捐献给Apache基金会。")]),a._v(" "),t("h2",{attrs:{id:"架构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#架构"}},[a._v("#")]),a._v(" "),t("strong",[a._v("架构")])]),a._v(" "),t("p",[t("img",{attrs:{src:"/images/lieshi/Aspose.Words.5014b4e0-af97-4ac4-b26a-729180fc467a.001.png",alt:""}})]),a._v(" "),t("p",[a._v("Cassandra集群由成节点(Node)、机架(Rack)和数据中心(Data Center)组成。")]),a._v(" "),t("h2",{attrs:{id:"节点-node"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#节点-node"}},[a._v("#")]),a._v(" "),t("strong",[a._v("节点(Node)")])]),a._v(" "),t("p",[a._v("指运行Cassandra实例的服务器。节点可以是物理主机、云上的机器实例，或者是Docker容器。")]),a._v(" "),t("h2",{attrs:{id:"机架-rack"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#机架-rack"}},[a._v("#")]),a._v(" "),t("strong",[a._v("机架(Rack)")])]),a._v(" "),t("p",[a._v("指一组相互靠近的Cassandra节点。机架可以是包含连接到公共网络交换机节点的物理机架。在云端，机架通常指在同一可用区域中运行机器实例集合。")]),a._v(" "),t("h2",{attrs:{id:"数据中心-data-center"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据中心-data-center"}},[a._v("#")]),a._v(" "),t("strong",[a._v("数据中心(Data Center)")])]),a._v(" "),t("p",[a._v("指逻辑机架的集合，通常位于同一栋建筑中，通过可靠的网络连接。在云端，数据中心通常映射到云区域。如阿里云上的华北1区，华南2区。")]),a._v(" "),t("p",[a._v("Cassandra通常跨多个数据中心存储数据副本，以确保高可用性，同时会将查询路由到同一数据中心的其他节点，以实现最优性能。为了实现这一点，Cassandra使用两个内部协议来管理基于集群拓扑的数据路由：gossip和snitches。")]),a._v(" "),t("h2",{attrs:{id:"八卦协议-gossip"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#八卦协议-gossip"}},[a._v("#")]),a._v(" "),t("strong",[a._v("八卦协议(Gossip)")])]),a._v(" "),t("p",[a._v("Gossip协议又被称为流行病协议（Epidemic Protocol），也叫反熵（Anti-Entropy），当前的新冠就是流行病协议的一个典型案例，为了方便记忆我们按字面意思叫它八卦协议。")]),a._v(" "),t("p",[a._v("Gossip协议于1987年在ACM上发表的论文 "),t("a",{attrs:{href:"http://bitsavers.trailing-edge.com/pdf/xerox/parc/techReports/CSL-89-1_Epidemic_Algorithms_for_Replicated_Database_Maintenance.pdf",target:"_blank",rel:"noopener noreferrer"}},[a._v("《Epidemic Algorithms for Replicated Database Maintenance》"),t("OutboundLink")],1),a._v("中被提出，有兴趣可以读一下原文(搞架构啃论文是绕不过的坎儿)。主要用在分布式数据库系统中各个副本节点间的数据同步，这种场景的一个最大特点就是组成网络的节点都是对等的，网络中即使有的节点因宕机而重启，或有新节点加入，但经过一段时间后，这些节点的状态也会与其他节点达成一致，也就是说，Gossip天然具有分布式容错的优点。它是一个带冗余的容错算法，属于一种最终一致性算法。虽然无法保证在某个时刻所有节点状态一致，但可以保证在”最终“所有节点一致，”最终“是一个现实中存在，但理论上无法证明的时间点。")]),a._v(" "),t("p",[a._v("Cassandra中的Gossip协议允许每个节点跟踪群集中其他节点的状态。每个Cassandra实例中的“ Gossiper”每秒运行一次，并最多选择三个随机节点来发起gossip会话。节点之间相互交换有关其他节点的信息，以便所有节点快速了解整个群集状态。 Cassandra会根据Gossip会话是否可以连接来确定节点是运行状态还是关闭状态，从而帮助其在集群中优化路由请求。")]),a._v(" "),t("h2",{attrs:{id:"告密者-snitches"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#告密者-snitches"}},[a._v("#")]),a._v(" "),t("strong",[a._v("告密者(Snitches)")])]),a._v(" "),t("p",[a._v("在Cassandra中请求路由的另一个关键技术是“Snitch”。 翻译成中文是告密者，就像语义一样，告密者的工作是通知每个节点与其他节点的相对距离。 此信息用于确定从哪些节点读取和写入，以及在节点出现故障或无法访问机架或数据中心时如何以最优路径分发副本以最大限度地提高可用性。")]),a._v(" "),t("h2",{attrs:{id:"特点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#特点"}},[a._v("#")]),a._v(" "),t("strong",[a._v("特点")])]),a._v(" "),t("p",[a._v("Cassandra因其卓越的技术特性而变得如此受欢迎。Cassandra的特性如下：")]),a._v(" "),t("p",[a._v("1、弹性可扩展性 - Cassandra是高度可扩展的; 它允许添加更多的硬件以适应更多的客户和更多的数据根据要求。")]),a._v(" "),t("p",[a._v("2、始终基于架构 - Cassandra没有单点故障，它可以连续用于不能承担故障的关键业务应用程序。")]),a._v(" "),t("p",[a._v("3、快速线性性能 - Cassandra是线性可扩展性的，即它为你增加集群中的节点数量增加你的吞吐量。因此，保持一个快速的响应时间。")]),a._v(" "),t("p",[a._v("4、灵活的数据存储 - Cassandra适应所有可能的数据格式，包括：结构化，半结构化和非结构化。它可以根据您的需要动态地适应变化的数据结构。")]),a._v(" "),t("p",[a._v("5、便捷的数据分发 - Cassandra通过在多个数据中心之间复制数据，可以灵活地在需要时分发数据。")]),a._v(" "),t("p",[a._v("6、事务支持 - Cassandra支持属性，如原子性，一致性，隔离和持久性（ACID）。")]),a._v(" "),t("p",[a._v("7、快速写入 - Cassandra被设计为在廉价的商品硬件上运行。 它执行快速写入，并可以存储数百TB的数据，而不牺牲读取效率。")])])}),[],!1,null,null,null);s.default=e.exports}}]);